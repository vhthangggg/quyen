<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>L·ªùi Ch√†o ƒê·∫∑c Bi·ªát!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Roboto+Mono:wght@400&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #1a1a2e;
            --primary-color: #ff7eb9;
            --secondary-color: #00f5d4;
            --text-color: #e6e6e6;
            --secondary-text: #f0b6d1;
            --glow-color: rgba(255, 126, 185, 0.5);
            --particle-color: var(--primary-color);
            --container-bg: rgba(26, 26, 46, 0.9);
            --status-ok-color: var(--secondary-color);
        }

        body {
            background: var(--bg-color);
            font-family: 'Poppins', sans-serif;
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow-x: hidden;
            padding: 10px;
            box-sizing: border-box;
            position: relative;
        }

        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(var(--secondary-text) 0.5px, transparent 0.5px);
            background-size: 25px 25px;
            opacity: 0.1;
            z-index: -1;
            animation: moveBackground 90s linear infinite;
        }

        body::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, 
                rgba(26, 26, 46, 0.8) 0%, 
                rgba(58, 12, 163, 0.6) 50%, 
                rgba(255, 126, 185, 0.4) 100%);
            z-index: -2;
            opacity: 0.5;
            animation: gradientShift 15s ease infinite;
            background-size: 200% 200%;
        }

        @keyframes moveBackground {
            from { background-position: 0 0; }
            to { background-position: 450px 450px; }
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        #particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0;
            animation: float 10s infinite ease-in-out;
        }

        @keyframes float {
            0% { transform: translateY(10vh) scale(0.8); opacity: 0; }
            25% { opacity: 0.6; }
            50% { transform: translateY(-15vh) scale(1.2); opacity: 0.4; }
            75% { opacity: 0.6; }
            100% { transform: translateY(10vh) scale(0.8); opacity: 0; }
        }

        .container {
            background: var(--container-bg);
            border: 1px solid var(--primary-color);
            border-radius: 15px;
            padding: 20px;
            max-width: 90%;
            width: 100%;
            box-shadow: 0 0 20px var(--glow-color), 0 0 8px var(--primary-color) inset;
            text-align: center;
            position: relative;
            z-index: 1;
            animation: fadeInContainer 1.2s ease-out forwards;
            opacity: 0;
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            box-sizing: border-box;
        }

        .container:hover {
            transform: translateY(-3px) scale(1.01);
            box-shadow: 0 0 30px var(--glow-color), 0 0 10px var(--primary-color) inset, 0 3px 10px rgba(0,0,0,0.1);
        }

        @keyframes fadeInContainer {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header h1 {
            color: var(--primary-color);
            font-size: 2em;
            margin-bottom: 8px;
            text-shadow: 0 0 10px var(--glow-color);
            animation: pulseGlow 2.5s infinite alternate ease-in-out;
        }

        @keyframes pulseGlow {
            from { text-shadow: 0 0 8px var(--glow-color); opacity: 0.9; }
            to { text-shadow: 0 0 15px var(--glow-color); opacity: 1; }
        }

        .header p {
            color: var(--secondary-text);
            font-size: 1em;
            margin-bottom: 20px;
        }

        .status-check {
            font-family: 'Roboto Mono', monospace;
            text-align: left;
            margin-bottom: 20px;
            border-left: 2px solid var(--primary-color);
            padding: 10px 15px;
            background: rgba(0,0,0, 0.15);
            border-radius: 0 5px 5px 0;
        }

        .status-check p {
            margin: 8px 0;
            font-size: 0.9em;
            color: var(--secondary-text);
            opacity: 0;
            animation: slideIn 0.6s ease-out forwards;
        }

        .status-check p:nth-child(1) { animation-delay: 0.7s; }
        .status-check p:nth-child(2) { animation-delay: 1.0s; }
        .status-check p:nth-child(3) { animation-delay: 1.3s; }
        .status-check p:nth-child(4) { animation-delay: 1.6s; }
        .status-check p:nth-child(5) { animation-delay: 1.9s; }
        .status-check p:nth-child(6) { animation-delay: 2.2s; }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-15px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .status-check strong {
            color: var(--primary-color);
            font-weight: 400;
        }

        .status-check .status-ok {
            color: var(--status-ok-color);
            font-weight: bold;
        }

        .progress-container {
            width: 100%;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            overflow: hidden;
            margin-top: 8px;
            opacity: 0;
            animation: fadeInProgress 0.5s ease-out 2.2s forwards;
        }

        @keyframes fadeInProgress {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .progress-bar {
            width: 0;
            height: 4px;
            background: var(--primary-color);
            animation: progress 1.5s ease-out forwards;
            animation-delay: 2.4s;
        }

        @keyframes progress {
            from { width: 0; }
            to { width: 100%; }
        }

        .dynamic-content {
            margin-bottom: 20px;
            opacity: 0;
            animation: fadeInContent 1s ease-out 3.9s forwards;
            text-align: left;
            font-size: 1em;
            line-height: 1.6;
        }

        #dynamic-message-text p {
            margin-bottom: 12px;
            color: var(--text-color);
        }

        #dynamic-poem-text {
            font-style: italic;
            color: var(--secondary-text);
            margin-top: 20px;
            text-align: center;
            font-size: 0.9em;
            border-top: 1px dashed var(--secondary-text);
            padding-top: 12px;
        }

        #dynamic-poem-text strong {
            color: var(--primary-color);
            font-style: normal;
        }

        @keyframes fadeInContent {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .time-notification {
            margin-top: 30px;
            padding: 15px;
            background: rgba(255, 126, 185, 0.1);
            border-radius: 10px;
            border-left: 3px solid var(--primary-color);
            opacity: 0;
            animation: fadeInContent 1s ease-out 5s forwards;
        }

        .time-slots {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .time-slot {
            position: relative;
            padding: 8px 12px;
            margin: 5px;
            background: rgba(0, 245, 212, 0.1);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .time-slot:hover {
            background: rgba(0, 245, 212, 0.2);
            transform: translateY(-2px);
        }

        .time-tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(10px);
            background: var(--container-bg);
            color: var(--text-color);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.8em;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .time-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--container-bg) transparent transparent transparent;
        }

        .flirt-container {
            min-height: 30px;
            position: relative;
            margin-top: 15px;
            opacity: 0;
            animation: fadeInContent 1s ease-out 4.4s forwards;
        }

        .flirt-line {
            font-style: italic;
            color: var(--secondary-text);
            font-size: 0.95em;
            position: absolute;
            width: 100%;
            left: 0;
            top: 0;
            opacity: 0;
            transition: opacity 1s ease;
            text-align: center;
        }

        .flirt-line.active {
            opacity: 1;
        }

        .icon {
            font-size: 2em;
            color: var(--primary-color);
            margin-top: 40px;
            display: inline-block;
            opacity: 0;
            cursor: pointer;
            animation: fadeInContent 1s ease-out 4.9s forwards, gentleBounce 2.8s infinite ease-in-out 4.9s;
            transition: transform 0.3s ease;
        }

        .icon:hover {
            transform: scale(1.2) rotate(10deg);
        }

        @keyframes gentleBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .typewriter {
            border-right: 2px solid var(--primary-color);
            animation: blink-caret 0.75s step-end infinite;
        }

        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: var(--primary-color); }
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--primary-color);
            opacity: 0;
            z-index: 1000;
            animation: confetti-fall 3s ease-in-out forwards;
        }

        @keyframes confetti-fall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        /* Media Queries */
        @media (max-width: 414px) {
            body {
                padding: 8px;
            }
            .container {
                padding: 15px;
                max-width: 95%;
                border-radius: 10px;
            }
            .header h1 {
                font-size: 1.8em;
                margin-bottom: 6px;
            }
            .header p {
                font-size: 0.9em;
                margin-bottom: 15px;
            }
            .status-check {
                padding: 8px 12px;
                margin-bottom: 15px;
            }
            .status-check p {
                font-size: 0.85em;
                margin: 6px 0;
            }
            .dynamic-content {
                font-size: 0.95em;
                margin-bottom: 15px;
            }
            #dynamic-message-text p {
                margin-bottom: 10px;
            }
            #dynamic-poem-text {
                font-size: 0.85em;
                margin-top: 15px;
                padding-top: 10px;
            }
            .flirt-container {
                min-height: 25px;
                margin-top: 10px;
            }
            .flirt-line {
                font-size: 0.9em;
            }
            .icon {
                font-size: 1.8em;
                margin-top: 30px;
            }
            .particle {
                width: 2px;
                height: 2px;
            }
            .time-notification {
                padding: 10px;
            }
            .time-slot {
                padding: 6px 10px;
                font-size: 0.9em;
            }
        }

        @media (max-width: 375px) {
            .container {
                padding: 12px;
            }
            .header h1 {
                font-size: 1.6em;
            }
            .header p {
                font-size: 0.85em;
            }
            .status-check {
                padding: 6px 10px;
            }
            .status-check p {
                font-size: 0.8em;
            }
            .dynamic-content {
                font-size: 0.9em;
            }
            #dynamic-poem-text {
                font-size: 0.8em;
            }
            .flirt-line {
                font-size: 0.85em;
            }
            .icon {
                font-size: 1.6em;
                margin-top: 25px;
            }
            .time-slot {
                padding: 5px 8px;
                font-size: 0.8em;
            }
        }

        @media (max-width: 320px) {
            .container {
                padding: 10px;
            }
            .header h1 {
                font-size: 1.4em;
            }
            .header p {
                font-size: 0.8em;
            }
            .status-check {
                padding: 5px 8px;
            }
            .status-check p {
                font-size: 0.75em;
            }
            .dynamic-content {
                font-size: 0.85em;
            }
            #dynamic-poem-text {
                font-size: 0.75em;
            }
            .flirt-line {
                font-size: 0.8em;
            }
            .icon {
                font-size: 1.5em;
                margin-top: 20px;
            }
            .time-slot {
                padding: 4px 6px;
                font-size: 0.75em;
            }
        }
    </style>
</head>
<body>
    <div id="particles"></div>

    <div class="container" role="main">
        <div class="header">
            <h1 id="greeting-title">ƒêang t·∫£i l·ªùi ch√†o...</h1>
            <p id="greeting-subtitle">...</p>
        </div>

        <div class="status-check">
            <p><strong>[C·∫¢M BI·∫æN]:</strong> Ghi nh·∫≠n t√≠n hi·ªáu quen thu·ªôc...</p>
            <p><strong>[ƒê·ªäNH V·ªä]:</strong> Ngu·ªìn ph√°t ƒëang ·ªü <strong>H·∫£i H√†</strong>.</p>
            <p id="current-time"><strong>[TIME]:</strong> --:--</p>
            <p id="analysis-text"><strong>[PH√ÇN T√çCH]:</strong> ƒêang c·∫£m nh·∫≠n nƒÉng l∆∞·ª£ng...</p>
            <p id="system-status"><strong>[TR·∫†NG TH√ÅI]:</strong> Chu·∫©n b·ªã...</p>
            <p><strong>[PROGRESS]:</strong> ƒê·ªìng b·ªô c·∫£m h·ª©ng...</p>
            <div class="progress-container">
                <div class="progress-bar"></div>
            </div>
        </div>

        <div class="dynamic-content">
            <div id="dynamic-message-text"><p>M·ªôt ch√∫t ch·ªù ƒë·ª£i cho nh·ªØng ƒëi·ªÅu d·ªÖ th∆∞∆°ng nh√©...</p></div>
            <div id="dynamic-poem-text">"..."</div>
        </div>

        <div class="time-notification">
            <p>M·ªói khung gi·ªù trong ng√†y ƒë·ªÅu c√≥ th√¥ng ƒëi·ªáp ƒë·∫∑c bi·ªát d√†nh ri√™ng cho b·∫°n!</p>
            <div class="time-slots">
                <span class="time-slot" data-time="morning">üåÑ Bu·ªïi S√°ng</span>
                <span class="time-slot" data-time="noon">‚òÄÔ∏è Bu·ªïi Tr∆∞a</span>
                <span class="time-slot" data-time="afternoon">üå§Ô∏è Bu·ªïi Chi·ªÅu</span>
                <span class="time-slot" data-time="evening">üåô Bu·ªïi T·ªëi</span>
            </div>
        </div>

        <div class="flirt-container">
            <div class="flirt-line active">...</div>
            <div class="flirt-line">...</div>
            <div class="flirt-line">...</div>
        </div>

        <div class="icon" aria-label="Bi·ªÉu t∆∞·ª£ng c·∫£m x√∫c">üòä</div>
    </div>

    <script>
        // --- Particle Effect Script ---
        const particleContainer = document.getElementById('particles');
        
        function createAdvancedParticles() {
            const shapes = ['‚ù§Ô∏è', '‚≠ê', '‚ú¶', '‚ùÄ', '‚úß'];
            for (let i = 0; i < 20; i++) {
                const p = document.createElement('div');
                p.classList.add('particle');
                
                if (Math.random() > 0.5) {
                    p.style.width = `${Math.random() * 5 + 2}px`;
                    p.style.height = p.style.width;
                    p.style.background = `radial-gradient(circle, var(--primary-color), transparent)`;
                } else {
                    p.textContent = shapes[Math.floor(Math.random() * shapes.length)];
                    p.style.fontSize = `${Math.random() * 10 + 10}px`;
                    p.style.color = `hsl(${Math.random() * 60 + 300}, 100%, 70%)`;
                }
                
                p.style.left = `${Math.random() * 100}vw`;
                p.style.top = `${Math.random() * 100}vh`;
                p.style.animationDuration = `${Math.random() * 10 + 5}s`;
                p.style.animationDelay = `${Math.random() * 5}s`;
                particleContainer.appendChild(p);
            }
        }

        // --- Time & Content Logic ---
        const now = new Date();
        const hour = now.getHours();
        const currentTimeString = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;

        let timeOfDay;
        let timeEmoji;
        
        if (hour >= 5 && hour < 11) {
            timeOfDay = "Bu·ªïi S√°ng"; timeEmoji = "‚òÄÔ∏è";
            greetingVariations = [
                { title: `Ch√†o Bu·ªïi S√°ng, Quy√™n!`, subtitle: "Mong b·∫°n m·ªôt ng√†y m·ªõi th·∫≠t nhi·ªÅu nƒÉng l∆∞·ª£ng!" },
                { title: `Ng√†y M·ªõi T·ªët L√†nh, Quy√™n ∆°i!`, subtitle: "H√£y b·∫Øt ƒë·∫ßu ng√†y b·∫±ng m·ªôt n·ª• c∆∞·ªùi nh√©." },
                { title: `Quy√™n ∆†i, D·∫≠y Ch∆∞a N√†?`, subtitle: "M·∫∑t tr·ªùi l√™n cao r·ªìi ƒë√≥, b·∫°n y√™u." }
            ];
            mainMessages = [
                { message: "√Ånh n·∫Øng ban mai ƒëang nh·∫£y m√∫a ngo√†i kia k√¨a! Ch√∫c b·∫°n m·ªôt ng√†y th·∫≠t <strong style='color: var(--primary-color);'>r·∫°ng r·ª°</strong> v√† l√†m ƒë∆∞·ª£c nhi·ªÅu ƒëi·ªÅu b·∫°n mu·ªën nh√©.", poem: "\"N·∫Øng v√†ng tr·∫£i nh·∫π tr√™n vai,<br> Ch√∫c b·∫°n ng√†y m·ªõi, <strong>th√™m d√†i</strong> ti·∫øng c∆∞·ªùi.\"" },
                { message: "M·ªôt t√°ch c√† ph√™ th∆°m, m·ªôt b·∫£n nh·∫°c hay, v√† l·ªùi ch√†o n√†y g·ª≠i ƒë·∫øn b·∫°n. H√£y ƒë·ªÉ ng√†y m·ªõi b·∫Øt ƒë·∫ßu th·∫≠t <strong style='color: var(--primary-color);'>nh·∫π nh√†ng</strong> v√† <strong style='color: var(--secondary-color);'>ng·ªçt ng√†o</strong> nh√©.", poem: "\"S·ªõm mai chim h√≥t l√≠u lo,<br> Ch√∫c b·∫°n vui v·∫ª, <strong>kh·ªèi lo</strong> mu·ªôn phi·ªÅn.\"" },
                { message: "Th·∫ø gi·ªõi ngo√†i kia ƒëang ch·ªù ƒë·ª£i n·ª• c∆∞·ªùi <strong style='color: var(--primary-color);'>t·ªèa n·∫Øng</strong> c·ªßa b·∫°n ƒë√≥. ƒê·ª´ng gi·∫•u n√≥ ƒëi nha! Ch√∫c b·∫°n m·ªôt bu·ªïi s√°ng th·∫≠t hi·ªáu qu·∫£ v√† vui v·∫ª.", poem: "\"M·ªü l√≤ng ƒë√≥n √°nh b√¨nh minh,<br>Ch√∫c b·∫°n m·ªôt ng√†y <strong>xinh ƒë·∫πp</strong> nh∆∞ hoa.\"" }
            ];
            rotatingThoughts = [
                "M·ªôt n·ª• c∆∞·ªùi bu·ªïi s√°ng c√≥ th·ªÉ thay ƒë·ªïi c·∫£ ng√†y ƒë√≥!",
                "ƒê·ª´ng qu√™n u·ªëng ƒë·ªß n∆∞·ªõc nha b·∫°n.",
                "H√≠t m·ªôt h∆°i th·∫≠t s√¢u... v√† b·∫Øt ƒë·∫ßu th√¥i!",
                "B·∫°n c·ªßa ng√†y h√¥m nay s·∫Ω tuy·ªát v·ªùi h∆°n h√¥m qua.",
                "Nh·ªõ d√†nh th·ªùi gian cho b·∫£n th√¢n m·ªôt ch√∫t nh√©."
            ];
            analysisOptions = [
                "NƒÉng l∆∞·ª£ng 't∆∞∆°i m·ªõi' ƒëang ƒë∆∞·ª£c n·∫°p.",
                "C·∫£m nh·∫≠n s·ª± 'an l√†nh' ƒë·∫ßu ng√†y.",
                "Ch·ªâ s·ªë 't√≠ch c·ª±c' tƒÉng nh·∫π.",
                "Kh√¥ng kh√≠ trong l√†nh qu√° ƒëi!"
            ];
            statusOptions = [
                "S·∫µn s√†ng ƒë√≥n ng√†y m·ªõi!",
                "Kh·ªüi ƒë·∫ßu th·∫≠t nh·∫π nh√†ng!",
                "S·∫µn s√†ng t·ªèa s√°ng!",
                "NƒÉng l∆∞·ª£ng tr√†n ƒë·∫ßy!"
            ];
        } else if (hour >= 11 && hour < 14) {
            timeOfDay = "Bu·ªïi Tr∆∞a"; timeEmoji = "‚òÄÔ∏è";
            greetingVariations = [
                { title: `Tr∆∞a R·ªìi, Quy√™n ∆°i!`, subtitle: "Ngh·ªâ ng∆°i n·∫°p nƒÉng l∆∞·ª£ng ch√∫t n√†o." },
                { title: `Ch√∫c Quy√™n Bu·ªïi Tr∆∞a Vui V·∫ª!`, subtitle: "Hy v·ªçng b·∫°n ƒëang c√≥ b·ªØa tr∆∞a ngon mi·ªáng." }
            ];
            mainMessages = [
                { message: "Gi·ªù ngh·ªâ tr∆∞a r·ªìi! T·∫°m g√°c l·∫°i c√¥ng vi·ªác, th∆∞ gi√£n m·ªôt ch√∫t v√† ƒÉn tr∆∞a th·∫≠t ngon mi·ªáng nha b·∫°n. N·∫°p ƒë·∫ßy nƒÉng l∆∞·ª£ng ƒë·ªÉ bu·ªïi chi·ªÅu <strong style='color: var(--primary-color);'>b√πng n·ªï</strong> nh√©!", poem: "\"N·∫Øng tr∆∞a ƒë·ªï b√≥ng h√†ng c√¢y,<br> B·∫°n ∆°i ngh·ªâ m·ªôt l√°t <strong>n√†y</strong> cho vui.\"" },
                { message: "D√π b·∫≠n r·ªôn th·∫ø n√†o, c≈©ng ƒë·ª´ng qu√™n d√†nh cho m√¨nh m·ªôt kho·∫£ng l·∫∑ng bu·ªïi tr∆∞a nh√©. Nghe m·ªôt b√†i nh·∫°c hay, ƒë·ªçc v√†i trang s√°ch, ho·∫∑c ƒë∆°n gi·∫£n l√† nh·∫Øm m·∫Øt l·∫°i v√† h√≠t th·ªü. <strong style='color: var(--primary-color);'>B√¨nh y√™n</strong> l·∫Øm ƒë√≥.", poem: "\"Gi·ªù tr∆∞a y√™n ·∫£ thanh b√¨nh,<br> Ch√∫c b·∫°n th∆∞ gi√£n, <strong>gi·ªØ g√¨n</strong> s·ª©c khoe.\"" }
            ];
            rotatingThoughts = [
                "Ngh·ªâ ng∆°i m·ªôt ch√∫t ƒë·ªÉ ƒëi ƒë∆∞·ª£c xa h∆°n.",
                "M·ªôt b·ªØa tr∆∞a ngon mi·ªáng s·∫Ω gi√∫p b·∫°n t·ªânh t√°o h∆°n.",
                "ƒê·ª´ng l√†m vi·ªác qu√° s·ª©c nh√©!",
                "Nghƒ© v·ªÅ ƒëi·ªÅu g√¨ ƒë√≥ vui v·∫ª xem sao.",
                "N·ª≠a ng√†y ƒë√£ qua, n·ª≠a ng√†y n·ªØa c·ªë l√™n!"
            ];
            analysisOptions = [
                "NƒÉng l∆∞·ª£ng '·∫•m √°p' gi·ªØa tr∆∞a.",
                "C·∫£m nh·∫≠n s·ª± 'th∆∞ th√°i' t·∫°m th·ªùi.",
                "Ch·ªâ s·ªë 'b√¨nh y√™n' ·ªïn ƒë·ªãnh.",
                "M·∫∑t tr·ªùi ƒëang ·ªü ƒë·ªânh ƒëi·ªÉm."
            ];
            statusOptions = [
                "T·∫°m d·ª´ng ƒë·ªÉ t√°i t·∫°o!",
                "N·∫°p pin cho bu·ªïi chi·ªÅu!",
                "Gi·ªù ngh·ªâ ng∆°i!",
                "Th∆∞ gi√£n n√†o!"
            ];
        } else if (hour >= 14 && hour < 18) {
            timeOfDay = "Bu·ªïi Chi·ªÅu"; timeEmoji = "üå§Ô∏è";
            greetingVariations = [
                { title: `Bu·ªïi Chi·ªÅu √äm ·∫£, Quy√™n nh√©!`, subtitle: "S·∫Øp h·∫øt gi·ªù l√†m r·ªìi, c·ªë l√™n b·∫°n ∆°i!" },
                { title: `Ch√†o Bu·ªïi Chi·ªÅu, Quy√™n!`, subtitle: "Mong b·∫°n m·ªôt bu·ªïi chi·ªÅu th·∫≠t hi·ªáu qu·∫£ v√† vui." }
            ];
            mainMessages = [
                { message: "Bu·ªïi chi·ªÅu th∆∞·ªùng l√† l√∫c d·ªÖ m·∫•t t·∫≠p trung nh·∫•t. H√£y th·ª≠ ƒë·ª©ng d·∫≠y v∆∞∆°n vai, u·ªëng m·ªôt c·ªëc n∆∞·ªõc m√°t, ho·∫∑c nh√¨n ra ngo√†i c·ª≠a s·ªï xem. Ch√∫t thay ƒë·ªïi nh·ªè c≈©ng gi√∫p b·∫°n <strong style='color: var(--primary-color);'>t·ªânh t√°o</strong> h∆°n ƒë√≥.", poem: "\"Chi·ªÅu bu√¥ng n·∫Øng nh·∫°t b√™n th·ªÅm,<br> Ch√∫c b·∫°n m·ªçi vi·ªác <strong>√™m ƒë·ªÅm</strong> tr√¥i qua.\"" },
                { message: "S·∫Øp k·∫øt th√∫c m·ªôt ng√†y l√†m vi·ªác r·ªìi. D√π k·∫øt qu·∫£ th·∫ø n√†o, b·∫°n c≈©ng ƒë√£ c·ªë g·∫Øng h·∫øt s·ª©c. H√£y t·ª± th∆∞·ªüng cho m√¨nh m·ªôt l·ªùi khen v√† chu·∫©n b·ªã cho bu·ªïi t·ªëi <strong style='color: var(--primary-color);'>th∆∞ gi√£n</strong> nh√©.", poem: "\"Ho√†ng h√¥n nhu·ªôm t√≠m ch√¢n tr·ªùi,<br> Ch√∫c b·∫°n tan s·ªü, <strong>th·∫£nh th∆°i</strong> v·ªÅ nh√†.\"" }
            ];
            rotatingThoughts = [
                "S·∫Øp ƒë∆∞·ª£c v·ªÅ nh√† r·ªìi!",
                "M·ªôt ch√∫t nh·∫°c nh·∫π cho bu·ªïi chi·ªÅu th√™m chill.",
                "Nghƒ© xem t·ªëi nay ƒÉn g√¨ ngon nh·ªâ?",
                "B·∫°n ƒë√£ l√†m r·∫•t t·ªët h√¥m nay!",
                "Ho√†n th√†nh n·ªët vi·ªác cu·ªëi c√πng n√†o!"
            ];
            analysisOptions = [
                "NƒÉng l∆∞·ª£ng 'd·ªãu nh·∫π' cu·ªëi ng√†y.",
                "C·∫£m nh·∫≠n s·ª± 'thanh th·∫£n' d·∫ßn ƒë·∫øn.",
                "Ch·ªâ s·ªë 'ho√†n th√†nh' ƒëang tƒÉng.",
                "S·∫Øp ƒë·∫øn gi·ªù ngh·ªâ ng∆°i."
            ];
            statusOptions = [
                "Ho√†n th√†nh n·ªët c√¥ng vi·ªác!",
                "S·∫Øp ƒë·∫øn gi·ªù tan l√†m!",
                "Chu·∫©n b·ªã th∆∞ gi√£n!",
                "C·ªë l√™n ch√∫t n·ªØa!"
            ];
        } else {
            timeOfDay = "Bu·ªïi T·ªëi"; timeEmoji = "üåô";
            greetingVariations = [
                { title: `Bu·ªïi T·ªëi An L√†nh, Quy√™n nh√©!`, subtitle: "G√°c l·∫°i m·ªçi b·ªôn b·ªÅ v√† th∆∞ gi√£n th√¥i n√†o." },
                { title: `Ch√∫c Quy√™n Ng·ªß Ngon!`, subtitle: "Mong b·∫°n c√≥ nh·ªØng gi·∫•c m∆° th·∫≠t ƒë·∫πp." }
            ];
            mainMessages = [
                { message: "M·ªôt ng√†y n·ªØa ƒë√£ qua. H√£y ƒë·ªÉ nh·ªØng lo toan mu·ªôn phi·ªÅn l·∫°i ph√≠a sau v√† t·∫≠n h∆∞·ªüng bu·ªïi t·ªëi <strong style='color: var(--primary-color);'>y√™n b√¨nh</strong> b√™n nh·ªØng ƒëi·ªÅu b·∫°n y√™u th√≠ch. B·∫°n x·ª©ng ƒë√°ng ƒë∆∞·ª£c ngh·ªâ ng∆°i.", poem: "\"ƒê√™m v·ªÅ sao s√°ng ƒë·∫ßy tr·ªùi,<br> Ch√∫c b·∫°n ngon gi·∫•c, <strong>cu·ªôc ƒë·ªùi</strong> an y√™n.\"" },
                { message: "√Ånh ƒë√®n ƒë∆∞·ªùng ƒë√£ l√™n, kh√¥ng kh√≠ th·∫≠t <strong style='color: var(--primary-color);'>d·ªãu d√†ng</strong>. ƒê√¢y l√† th·ªùi gian ho√†n h·∫£o ƒë·ªÉ ƒë·ªçc m·ªôt cu·ªën s√°ch hay, xem m·ªôt b·ªô phim ·∫•m √°p, ho·∫∑c tr√≤ chuy·ªán c√πng ng∆∞·ªùi th√¢n y√™u. Ch√∫c b·∫°n bu·ªïi t·ªëi th·∫≠t <strong style='color: var(--secondary-color);'>th∆∞ th√°i</strong>.", poem: "\"TrƒÉng treo tr√™n m√°i hi√™n nh√†,<br> Ng·ªß ƒëi b·∫°n nh√©, <strong>m∆° hoa</strong> ƒë·∫ßy c√†nh.\"" },
                { message: "ƒê·ª´ng √¥m ƒë·ªìm c√¥ng vi·ªác hay suy nghƒ© qu√° nhi·ªÅu v√†o bu·ªïi t·ªëi nh√©. H√£y ƒë·ªÉ t√¢m tr√≠ ƒë∆∞·ª£c <strong style='color: var(--primary-color);'>ngh·ªâ ng∆°i</strong> ho√†n to√†n. M·ªôt gi·∫•c ng·ªß s√¢u s·∫Ω gi√∫p b·∫°n th·ª©c d·∫≠y s·∫£ng kho√°i v√†o ng√†y mai.", poem: "\"Gi√≥ khuya th·ªïi nh·∫π qua m√†nh,<br> Ng·ªß ƒëi b·∫°n nh√©, <strong>m·ªông l√†nh</strong> t√¨m v·ªÅ.\"" }
            ];
            rotatingThoughts = [
                "Th∆∞ gi√£n v√† t·∫≠n h∆∞·ªüng bu·ªïi t·ªëi c·ªßa b·∫°n.",
                "M·ªôt b·∫£n nh·∫°c nh·∫π nh√†ng s·∫Ω gi√∫p b·∫°n d·ªÖ ng·ªß h∆°n.",
                "G√°c l·∫°i lo √¢u, ng√†y mai l·∫°i b·∫Øt ƒë·∫ßu.",
                "B·∫°n l√† tuy·ªát v·ªùi nh·∫•t!",
                "Ng·ªß th·∫≠t ngon nh√©!"
            ];
            analysisOptions = [
                "Kh√¥ng gian 'y√™n tƒ©nh' bao tr√πm.",
                "C·∫£m nh·∫≠n s·ª± 'b√¨nh y√™n' s√¢u l·∫Øng.",
                "Ch·ªâ s·ªë 'th∆∞ gi√£n' ·ªü m·ª©c cao.",
                "Th·ªùi gian ƒë·ªÉ ngh·ªâ ng∆°i."
            ];
            statusOptions = [
                "ƒê·∫øn gi·ªù ngh·ªâ ng∆°i!",
                "N·∫°p nƒÉng l∆∞·ª£ng cho ng√†y mai!",
                "T·∫≠n h∆∞·ªüng s·ª± y√™n tƒ©nh!",
                "Th∆∞ gi√£n ho√†n to√†n!"
            ];
        }


        // --- TypeWriter Effect ---
        function typeWriter(element, text, speed = 50) {
            let i = 0;
            element.innerHTML = '';
            element.classList.add('typewriter');
            
            function typing() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(typing, speed);
                } else {
                    element.classList.remove('typewriter');
                }
            }
            typing();
        }

        // --- Confetti Effect ---
        function createConfetti() {
            const colors = ['#ff7eb9', '#00f5d4', '#ffcc00', '#7afcff', '#feff9c'];
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = `${Math.random() * 2}s`;
                confetti.style.width = `${Math.random() * 10 + 5}px`;
                confetti.style.height = `${Math.random() * 10 + 5}px`;
                document.body.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.remove();
                }, 3000);
            }
        }

        // --- Weather API ---
        async function fetchWeather() {
            try {
                const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=21.528&longitude=107.599&hourly=temperature_2m,precipitation_probability,dew_point_2m&timezone=Asia/Bangkok&forecast_days=1');
                const data = await response.json();
                
                const currentHour = now.getHours();
                const temp = data.hourly.temperature_2m[currentHour];
                const rainProb = data.hourly.precipitation_probability[currentHour];
                
                const weatherElement = document.createElement('p');
                weatherElement.innerHTML = `<strong>[TH·ªúI TI·∫æT]:</strong> H·∫£i H√†: ${temp}¬∞C, ${rainProb}% m∆∞a`;
                document.querySelector('.status-check').appendChild(weatherElement);
            } catch (error) {
                console.error('L·ªói khi l·∫•y d·ªØ li·ªáu th·ªùi ti·∫øt:', error);
            }
        }

        // --- Parallax Effect ---
        function setupParallax() {
            const container = document.querySelector('.container');
            window.addEventListener('scroll', () => {
                const scrollPosition = window.pageYOffset;
                container.style.transform = `translateY(${scrollPosition * 0.2}px)`;
            });
        }

        // --- Time Tooltips ---
        function setupTimeTooltips() {
            const timeSlots = document.querySelectorAll('.time-slot');
            const tooltipMessages = {
                morning: "5h - 11h: Th√¥ng ƒëi·ªáp t∆∞∆°i m·ªõi b·∫Øt ƒë·∫ßu ng√†y",
                noon: "11h - 14h: L·ªùi nh·∫Øn gi·ªØa ng√†y ƒë·∫ßy nƒÉng l∆∞·ª£ng",
                afternoon: "14h - 18h: ƒê·ªông l·ª±c cu·ªëi gi·ªù l√†m vi·ªác",
                evening: "18h - 5h: Nh·ªØng l·ªùi ch√∫c ng·ªçt ng√†o bu·ªïi t·ªëi"
            };
            
            timeSlots.forEach(slot => {
                const time = slot.dataset.time;
                const tooltip = document.createElement('div');
                tooltip.className = 'time-tooltip';
                tooltip.textContent = tooltipMessages[time];
                slot.appendChild(tooltip);
                
                slot.addEventListener('mouseenter', () => {
                    tooltip.style.opacity = '1';
                    tooltip.style.transform = 'translateY(0)';
                });
                
                slot.addEventListener('mouseleave', () => {
                    tooltip.style.opacity = '0';
                    tooltip.style.transform = 'translateY(10px)';
                });
            });
        }

        // --- Rotating Thoughts ---
        function setupRotatingThoughts() {
            const flirtContainer = document.querySelector('.flirt-container');
            const flirtElements = flirtContainer.querySelectorAll('.flirt-line');
            let currentThoughtIndex = 0;
            
            function showNextThought() {
                flirtElements.forEach(el => el.classList.remove('active'));
                const elementIndex = currentThoughtIndex % flirtElements.length;
                flirtElements[elementIndex].classList.add('active');
                currentThoughtIndex++;
            }
            
            setTimeout(() => {
                showNextThought();
                setInterval(showNextThought, 6000);
            }, 5900);
        }

        // --- Random Icon ---
        function setupRandomIcon() {
            const iconElement = document.querySelector('.icon');
            const icons = ['üòä', 'üíñ', '‚ú®', 'üå∏', 'üåü', '‚òÄÔ∏è', 'üåô'];
            iconElement.textContent = icons[Math.floor(Math.random() * icons.length)];
        }

        // --- Initialize Everything ---
        document.addEventListener('DOMContentLoaded', () => {
            createAdvancedParticles();
            setupParallax();
            setupTimeTooltips();
            setupRotatingThoughts();
            setupRandomIcon();
            
            // Basic content setup
            document.getElementById('current-time').innerHTML = `<strong>[TIME]:</strong> ${currentTimeString} ${timeEmoji}`;
            document.title = `L·ªùi Ch√†o ${timeOfDay}!`;
            
            // Typewriter effects
            typeWriter(document.getElementById('greeting-title'), `Ch√†o ${timeOfDay}!`);
            document.getElementById('greeting-subtitle').textContent = `Th√¥ng ƒëi·ªáp ƒë·∫∑c bi·ªát d√†nh cho b·∫°n v√†o ${timeOfDay.toLowerCase()}`;
            
            // Delayed effects
            setTimeout(() => {
                document.getElementById('analysis-text').innerHTML = `<strong>[PH√ÇN T√çCH]:</strong> NƒÉng l∆∞·ª£ng ${timeOfDay.toLowerCase()} ƒëang ƒë∆∞·ª£c n·∫°p.`;
                document.getElementById('system-status').innerHTML = `<strong>[TR·∫†NG TH√ÅI]:</strong> <strong class="status-ok">S·∫µn s√†ng!</strong>`;
            }, 1900);
            
            setTimeout(createConfetti, 4000);
            setTimeout(fetchWeather, 3000);
        });
    </script>
</body>
</html>
